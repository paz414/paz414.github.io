<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Parth Singh — Portfolio</title>
<meta name="color-scheme" content="light dark" />
<meta name="description" content="Parth Singh — Analytics Engineer, ML systems, IIT Delhi '26" />
<style>
  /* ==================== Tokens ==================== */
  :root{
    --bg:#0a0c10; --panel:#0e1117; --panel-2:#0b0e14;
    --text:#f5f7fb; --muted:#9aa3b2; --border:#1a2030;
    --accent:#7aa2ff; --accent-2:#9b8cff; --ring:rgba(122,162,255,.25);
    --flowGrid: rgba(255,255,255,.05);
    --flowIcon: rgba(255,255,255,.32);
    --flowGhost: rgba(255,255,255,.06);
    --cardFill: #0f1117;
  }
  html.light{
    --bg:#ffffff; --panel:#f9fafb; --panel-2:#f3f4f6;
    --text:#0a0c10; --muted:#6b7280; --border:#e5e7eb;
    --accent:#0f172a; --accent-2:#334155;
    --flowGrid: rgba(2,6,23,.06);
    --flowIcon: rgba(2,6,23,.35);
    --flowGhost: rgba(2,6,23,.04);
    --cardFill: #ffffff;
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:var(--bg);color:var(--text);line-height:1.6;
    -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  }
  a{color:inherit;text-decoration:none}
  .container{max-width:1160px;margin:0 auto;padding:0 20px}
  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  .muted{color:var(--muted)}
  .btn{
    --p:12px;display:inline-flex;align-items:center;gap:.55rem;border:1px solid var(--border);
    padding:calc(var(--p)-2px) calc(var(--p)+2px);border-radius:999px;font-weight:600;font-size:.95rem;
    background:transparent;cursor:pointer;transition:.2s transform, .25s box-shadow, .25s border-color;
  }
  .btn:hover{transform:translateY(-1px);border-color:color-mix(in srgb,var(--border) 65%,var(--accent))}
  .btn.primary{background:linear-gradient(180deg,#7aa2ff,#5a7bff);color:#fff;border-color:transparent;box-shadow:0 10px 35px rgba(122,162,255,.25)}
  .chip{padding:.38rem .7rem;border:1px solid var(--border);border-radius:999px;color:var(--muted);font-size:.8rem;display:inline-flex;align-items:center;gap:.4rem}
  .card{
    background:linear-gradient(180deg,color-mix(in srgb,var(--panel) 94%,transparent),color-mix(in srgb,var(--panel-2) 92%,transparent));
    border:1px solid var(--border);border-radius:16px;padding:20px;box-shadow:0 20px 60px rgba(20,24,38,.25);
    transition:.25s transform,.25s border-color,.25s box-shadow;will-change:transform,box-shadow;
  }
  .card:hover{transform:translateY(-3px);border-color:color-mix(in srgb,var(--border) 60%,var(--accent));box-shadow:0 28px 80px rgba(122,162,255,.18)}
  .tilt{transform-style:preserve-3d;perspective:1000px}
  .divider{height:1px;background:linear-gradient(90deg,transparent,var(--border),transparent);border:0;margin:22px 0}
  section{scroll-margin-top:84px;padding:72px 0}
  h1{font-size:clamp(2rem,4vw,3.2rem);line-height:1.12;margin:0 0 .4rem;font-weight:800;letter-spacing:-.02em}
  h2{font-size:clamp(1.6rem,3vw,2.4rem);line-height:1.2;margin:0 0 .4rem;font-weight:750}
  h3{font-size:1.08rem;margin:.2rem 0 .2rem;font-weight:650}
  p{margin:.35rem 0;max-width:68ch}
  .grid{display:grid;gap:18px}
  .grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
  .grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
  @media (max-width:980px){ .grid.cols-2,.grid.cols-3{grid-template-columns:1fr} }
  .kicker{letter-spacing:.18em;text-transform:uppercase;font-size:.78rem;color:var(--muted);margin-bottom:8px}

  /* ==================== Header ==================== */
  .header{
    position:sticky;top:0;z-index:50;backdrop-filter:saturate(180%) blur(10px);
    background:linear-gradient(180deg,rgba(8,10,16,.75),rgba(8,10,16,.45));border-bottom:1px solid var(--border);
  }
  .nav{display:flex;align-items:center;gap:22px;font-size:.95rem}
  .nav a{color:var(--muted)} .nav a:hover{color:var(--text)}
  .toggle{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--border);padding:.45rem .85rem;border-radius:999px;background:transparent;color:var(--text);cursor:pointer}

  /* ==================== FlowStage (Stripe-like, non-interactive) ==================== */
  .flowstage{
    position:relative;height:420px;border-bottom:1px solid var(--border);overflow:hidden;
    background:
      radial-gradient(1200px 600px at 10% 0%, rgba(124,162,255,.15), transparent 70%),
      radial-gradient(900px 500px at 100% 20%, rgba(155,140,255,.12), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
  }
  .flowstage::before{
    content:"";position:absolute;inset:0;pointer-events:none;opacity:.10;
    background:
      repeating-linear-gradient(90deg, var(--flowGrid) 0 1px, transparent 1px 80px),
      repeating-linear-gradient(0deg, var(--flowGrid) 0 1px, transparent 1px 80px);
  }
  .flow-svg{position:absolute;inset:0;display:block;width:100%;height:100%}
  .ghost{stroke:var(--flowGrid);fill:transparent}
  .ghost-icon{stroke:var(--flowIcon);fill:none;stroke-width:2;opacity:.45}
  .ghost.fade{animation:ghostPulse 6s ease-in-out infinite}
  @keyframes ghostPulse{ 0%,100%{opacity:.20} 50%{opacity:.55} }

  .flow-card{
    filter: drop-shadow(0 8px 18px rgba(2,6,23,.25));
  }
  .flow-card rect{
    fill:var(--cardFill);stroke:var(--border);stroke-width:1;
  }
  .flow-card text{ font: 600 14px/1 Inter, ui-sans-serif, system-ui; fill: var(--text); }

  /* Animated connector */
  .flow-base{ filter:url(#softGlow); stroke:url(#flowGrad); stroke-width:6; stroke-linecap:round; opacity:.9 }
  .flow-overlay{ stroke:url(#flowGrad); stroke-width:6; stroke-linecap:round; opacity:.9 }
  .flow-highlight{
    stroke:#fff; stroke-width:7.5; stroke-linecap:round; opacity:.7;
    stroke-dasharray:120 var(--pathL, 1000);
    animation:moveDash 4.6s linear infinite;
    filter:url(#softBloom);
  }
  .flow-trail{
    stroke:#ffffff; stroke-opacity:.22; stroke-width:10; stroke-linecap:round;
    stroke-dasharray:2 14; animation:trail 9s linear infinite;
  }
  @keyframes moveDash{
    to{ stroke-dashoffset: calc(-1 * var(--pathL, 1000)); }
  }
  @keyframes trail{
    to{ stroke-dashoffset:-2000; }
  }

  /* ==================== Reveal ==================== */
  .reveal{opacity:0; transform:translateY(10px); transition:opacity .5s ease, transform .5s ease}
  .reveal.revealed{opacity:1; transform:none}

  footer{border-top:1px solid var(--border);padding:40px 0}
  @media (prefers-reduced-motion: reduce){
    .card:hover{transform:none}
    .reveal{transition:none}
    .flow-highlight,.flow-trail{animation:none}
  }
</style>
</head>
<body>
<header class="header">
  <div class="container" style="height:64px;display:flex;align-items:center;justify-content:space-between;">
    <a href="#top" style="font-weight:800;letter-spacing:.2px">Parth Singh</a>
    <nav class="nav">
      <a href="#experience">Experience</a>
      <a href="#projects">Projects</a>
      <a href="#skills">Skills</a>
      <a href="#achievements">Achievements</a>
      <a href="#education">Education</a>
      <a href="#extras">Beyond</a>
      <button id="theme" class="toggle" type="button" aria-label="Toggle theme">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M2 12h2m16 0h2M5.6 5.6l1.4 1.4m10 10 1.4 1.4M5.6 18.4l1.4-1.4m10-10 1.4-1.4"/></svg>
        <span id="themeLabel">Light</span>
      </button>
      <a class="btn" href="mailto:singh.parthiitd@gmail.com" style="padding:.45rem .9rem">Email</a>
    </nav>
  </div>
</header>

<!-- ==================== FlowStage (Stripe-like) ==================== -->
<section id="top" class="flowstage">
  <svg class="flow-svg" viewBox="0 0 1200 420" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <!-- gradient for connector -->
      <linearGradient id="flowGrad" x1="140" y1="300" x2="1060" y2="220" gradientUnits="userSpaceOnUse">
        <stop offset="0" stop-color="#6d28d9"/>
        <stop offset=".45" stop-color="#4f46e5"/>
        <stop offset="1" stop-color="#06b6d4"/>
      </linearGradient>
      <!-- soft glows -->
      <filter id="softGlow" x="-20%" y="-20%" width="140%" height="140%">
        <feGaussianBlur in="SourceGraphic" stdDeviation="6" result="blur"/>
        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
      </filter>
      <filter id="softBloom" x="-30%" y="-30%" width="160%" height="160%">
        <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="b"/>
        <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
      </filter>
      <!-- card icons as symbols -->
      <symbol id="ico-connect" viewBox="0 0 24 24">
        <circle cx="9" cy="12" r="4" fill="#22d3ee"/>
        <circle cx="14" cy="9" r="4" fill="#6366f1" opacity=".9"/>
      </symbol>
      <symbol id="ico-terminal" viewBox="0 0 24 24">
        <rect x="3" y="5" width="18" height="14" rx="3" fill="#6366f1"/>
        <rect x="7" y="9" width="6" height="2" rx="1" fill="#22d3ee"/>
        <rect x="7" y="13" width="10" height="2" rx="1" fill="white" opacity=".9"/>
      </symbol>
      <symbol id="ico-ghost" viewBox="0 0 24 24">
        <path d="M6 12h6M6 8h8M6 16h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </symbol>
    </defs>

    <!-- faint ghost grid of tiles -->
    <g opacity=".9">
      <!-- columns of rounded squares -->
      <g transform="translate(80,56)">
        <!-- 4x4 grid -->
        <g class="ghost fade" style="animation-delay:.2s">
          <rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/>
          <use href="#ico-ghost" x="30" y="30" width="24" height="24" class="ghost-icon"/>
        </g>
        <g transform="translate(120,0)" class="ghost"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(240,0)" class="ghost fade" style="animation-delay:.8s"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(360,0)" class="ghost"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>

        <g transform="translate(0,110)" class="ghost"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(120,110)" class="ghost fade" style="animation-delay:1.2s"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(240,110)" class="ghost"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(360,110)" class="ghost fade" style="animation-delay:.5s"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>

        <g transform="translate(0,220)" class="ghost fade" style="animation-delay:1.6s"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(120,220)" class="ghost"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(240,220)" class="ghost fade" style="animation-delay:.9s"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
        <g transform="translate(360,220)" class="ghost"><rect x="0" y="0" width="84" height="84" rx="14" class="ghost"/></g>
      </g>
    </g>

    <!-- elevated cards -->
    <g class="flow-card">
      <rect x="100" y="250" width="140" height="80" rx="14"/>
      <use href="#ico-connect" x="116" y="266" width="28" height="28"/>
      <text x="152" y="290">Connect</text>
    </g>
    <g class="flow-card">
      <rect x="520" y="210" width="140" height="80" rx="14"/>
      <use href="#ico-terminal" x="536" y="228" width="28" height="28"/>
      <text x="572" y="252">Terminal</text>
    </g>
    <g class="flow-card" opacity=".94">
      <rect x="940" y="160" width="140" height="80" rx="14"/>
      <use href="#ico-terminal" x="956" y="178" width="28" height="28"/>
      <text x="992" y="202">Analytics</text>
    </g>

    <!-- connector path (one path reused by three strokes) -->
    <path id="flowPath"
      d="M 170 290
         C 220 290 260 270 300 250
         S 410 210 510 230
         S 700 270 820 240
         S 980 200 1030 200"
      fill="none"/>

    <!-- trailing tiny dash pattern underlay -->
    <use href="#flowPath" class="flow-trail"/>

    <!-- glow base + solid overlay gradient -->
    <use href="#flowPath" class="flow-base"/>
    <use href="#flowPath" class="flow-overlay"/>

    <!-- moving highlight segment -->
    <use id="flowHighlight" href="#flowPath" class="flow-highlight"/>
  </svg>
</section>

<main>
  <!-- HERO (tight) -->
  <section class="container" style="padding-top:28px">
    <div class="row" style="justify-content:space-between;align-items:end;gap:18px">
      <div>
        <h1>Parth Singh</h1>
        <p class="muted">Analytics Engineer • IIT Delhi B.Tech '26</p>
        <p>Engineer focused on generative analytics, ML systems and reliable data tooling. I ship clean, production-grade features that actually move metrics.</p>
        <div class="row" style="margin-top:12px">
          <a class="btn primary" href="#projects">Explore work</a>
          <a class="btn" href="./resume.pdf" download>Download résumé</a>
          <button id="copyEmail" class="btn" type="button">Copy email</button>
        </div>
      </div>
      <div class="card tilt" style="min-width:260px">
        <div class="grid cols-2">
          <div class="chip">Real-time</div><div class="chip">Ops ready</div>
          <div class="chip">ML + Data</div><div class="chip">IITD ’26</div>
        </div>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- EXPERIENCE -->
  <section id="experience">
    <div class="container reveal">
      <div style="margin-bottom:14px">
        <div class="kicker">Professional</div>
        <h2>Experience</h2>
      </div>
      <div class="grid">
        <article class="card tilt">
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <div>
              <h3>Analytics Engineer Intern · Chubb</h3>
              <small class="muted">Bengaluru, India · May 2025 – Jul 2025</small>
            </div>
            <span class="chip">PPO</span>
          </div>
          <ul style="margin-top:10px;padding-left:18px">
            <li>Production BI Agent with NL→SQL and auto Plotly dashboards on Snowflake.</li>
            <li>Auto SQL repair, relevance checks, input suggestions, and smart caching.</li>
            <li>Insurance complaints pipeline: 7.4K+ cases with L1→L2 root-cause tags.</li>
            <li>Token-aware batching on Azure OpenAI for schema-constrained prompts.</li>
            <li>IQR-based outlier detection and KPI trend visualizations.</li>
            <li>Received PPO for performance.</li>
          </ul>
        </article>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- PROJECTS -->
  <section id="projects">
    <div class="container reveal">
      <div style="margin-bottom:14px">
        <div class="kicker">Selected work</div>
        <h2>Projects</h2>
      </div>

      <div class="row" id="filters" style="margin-bottom:12px">
        <button class="btn chip" data-filter="All">All</button>
        <button class="btn chip" data-filter="ML">ML</button>
        <button class="btn chip" data-filter="Systems">Systems</button>
        <button class="btn chip" data-filter="Data">Data</button>
        <button class="btn chip" data-filter="Quant">Quant</button>
      </div>

      <div class="grid cols-3" id="projectGrid">
        <article class="card project tilt" data-cats="ML,Data">
          <div class="row" style="justify-content:space-between">
            <h3>Railway Incident Prediction (CRIS)</h3><span class="chip">ML</span>
          </div>
          <p class="muted">Jan 2025 – Present</p>
          <p>Predictive models for railway failures using heterogeneous signals with automated alignment of fault codes to operational and environmental signals.</p>
        </article>

        <article class="card project tilt" data-cats="ML,Quant">
          <div class="row" style="justify-content:space-between">
            <h3>Real-Time Market Data Forecasting (Jane Street)</h3><span class="chip">Quant</span>
          </div>
          <p class="muted">Dec 2024 – Present</p>
          <p>TimeXer with weighted R² 0.87; faster imputation and integrated exogenous/endogenous inputs.</p>
        </article>

        <article class="card project tilt" data-cats="Systems">
          <div class="row" style="justify-content:space-between">
            <h3>Parallel Graph Centrality (OpenMP)</h3><span class="chip">Systems</span>
          </div>
          <p class="muted">Sep 2024 – Dec 2024</p>
          <p>Degree and betweenness centrality with OpenMP; hybrid ranking for top-k influencers on graphs with 100k+ nodes and 13M edges.</p>
        </article>

        <article class="card project tilt" data-cats="Systems">
          <div class="row" style="justify-content:space-between">
            <h3>Virtual Machine Implementation (C++)</h3><span class="chip">Systems</span>
          </div>
          <p class="muted">Jun 2024 – Aug 2024</p>
          <p>Custom stack-based virtual CPU with assembler and lexer; file I/O, custom ISA, and debugging tools.</p>
        </article>

        <article class="card project tilt" data-cats="ML">
          <div class="row" style="justify-content:space-between">
            <h3>Resume Anomaly Detection</h3><span class="chip">ML</span>
          </div>
          <p class="muted">Oct 2024 – Present</p>
          <p>BiLSTM autoencoder with 92% precision; silhouette 0.87 and 91.7% accuracy for HR fraud detection at scale.</p>
        </article>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- SKILLS -->
  <section id="skills">
    <div class="container reveal">
      <div style="margin-bottom:14px">
        <div class="kicker">Tooling & stacks</div>
        <h2>Skills</h2>
      </div>
      <div class="grid cols-3">
        <div class="card tilt">
          <h3>Languages</h3>
          <div class="row" style="margin-top:8px">
            <span class="chip">Python</span><span class="chip">C++</span><span class="chip">Java</span>
          </div>
        </div>
        <div class="card tilt">
          <h3>Analytics</h3>
          <div class="row" style="margin-top:8px">
            <span class="chip">PyTorch</span><span class="chip">TensorFlow</span><span class="chip">scikit-learn</span>
            <span class="chip">Pandas</span><span class="chip">NumPy</span><span class="chip">Plotly</span>
          </div>
        </div>
        <div class="card tilt">
          <h3>Web</h3>
          <div class="row" style="margin-top:8px">
            <span class="chip">JavaScript</span><span class="chip">HTML/CSS</span><span class="chip">MySQL</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- ACHIEVEMENTS -->
  <section id="achievements">
    <div class="container reveal">
      <div style="margin-bottom:14px">
        <div class="kicker">Highlights</div>
        <h2>Achievements</h2>
      </div>
      <div class="grid cols-2">
        <div class="card tilt">Global Rank 9/500+ in Chubb hackathon (GPT-4 BI agent)</div>
        <div class="card tilt">Exchange Exam Rank 10/1200+ at IIT Delhi; KAIST offer</div>
        <div class="card tilt">Endowment Merit Scholarship (Top 5% dept.)</div>
        <div class="card tilt">Merit-based Branch Change (Top 7% first-year)</div>
        <div class="card tilt">INSPIRE Scholarship (Top 1% Class XII)</div>
        <div class="card tilt">JEE Advanced AIR 2291 (Top 0.9%)</div>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- EDUCATION -->
  <section id="education">
    <div class="container reveal">
      <div style="margin-bottom:14px">
        <div class="kicker">Academic</div>
        <h2>Education</h2>
      </div>
      <div class="card row tilt" style="justify-content:space-between">
        <div>
          <h3>Indian Institute of Technology, Delhi</h3>
          <small class="muted">B.Tech (2022–2026)</small>
        </div>
        <span class="chip">CGPA 7.817</span>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- EXTRAS -->
  <section id="extras">
    <div class="container reveal">
      <div style="margin-bottom:14px">
        <div class="kicker">Activities</div>
        <h2>Beyond work</h2>
      </div>
      <div class="grid cols-3">
        <div class="card tilt">Academic Mentor, ELL101 (2023)</div>
        <div class="card tilt">Captain, Lawn Tennis — Satpura Hostel (2024)</div>
        <div class="card tilt">WCA Rankings: #140 India, #3358 World (2024)</div>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="container row" style="justify-content:space-between;">
    <small class="muted">© <span id="year"></span> Parth Singh. Built with clean edges.</small>
    <div class="row">
      <a href="mailto:singh.parthiitd@gmail.com" class="row">Email</a>
      <a href="tel:+916394711881" class="row">Call</a>
      <a href="https://github.com/paz414" target="_blank" rel="noreferrer" class="row">GitHub</a>
    </div>
  </div>
</footer>

<!-- ==================== JS: theme, filters, tilt, reveal, flow length ==================== -->
<script>
  // Year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Theme toggle with localStorage; defaults to dark
  const root = document.documentElement;
  const saved = localStorage.getItem('theme');
  if (saved === 'light') root.classList.add('light');
  const themeBtn = document.getElementById('theme');
  const themeLabel = document.getElementById('themeLabel');
  const setLabel = () => themeLabel.textContent = root.classList.contains('light') ? 'Dark' : 'Light';
  setLabel();
  themeBtn.addEventListener('click', () => {
    root.classList.toggle('light'); localStorage.setItem('theme', root.classList.contains('light') ? 'light':'dark'); setLabel();
  });

  // Smooth internal link scroll
  document.addEventListener('click', (e) => {
    const a = e.target.closest('a[href^="#"]');
    if (!a) return;
    const id = a.getAttribute('href').slice(1);
    const el = document.getElementById(id);
    if (el) { e.preventDefault(); el.scrollIntoView({behavior:'smooth',block:'start'}); }
  });

  // Filters
  const grid = document.getElementById('projectGrid');
  const buttons = document.querySelectorAll('#filters .btn');
  if (buttons.length){
    buttons.forEach(btn => btn.addEventListener('click', () => {
      buttons.forEach(b => b.classList.remove('primary'));
      btn.classList.add('primary');
      const want = btn.dataset.filter;
      grid.querySelectorAll('.project').forEach(card => {
        const cats = card.dataset.cats.split(',').map(s => s.trim());
        card.style.display = (want === 'All' || cats.includes(want)) ? '' : 'none';
      });
    }));
    document.querySelector('#filters [data-filter="All"]').classList.add('primary');
  }

  // Reveal on scroll
  const io = new IntersectionObserver((ents)=>ents.forEach(ent=> ent.isIntersecting && ent.target.classList.add('revealed')), {threshold:.12});
  document.querySelectorAll('section .container').forEach(el=>{ el.classList.add('reveal'); io.observe(el); });

  // Subtle tilt on hover
  const tilts = document.querySelectorAll('.tilt');
  const clamp = (n,min,max)=>Math.max(min,Math.min(max,n));
  tilts.forEach(el=>{
    let rAF = null;
    const onMove = (e) => {
      const rect = el.getBoundingClientRect();
      const x = e.clientX - rect.left, y = e.clientY - rect.top;
      const rx = clamp(((y/rect.height)-0.5)*6, -6, 6);
      const ry = clamp(((x/rect.width)-0.5)*-6, -6, 6);
      if (rAF) cancelAnimationFrame(rAF);
      rAF = requestAnimationFrame(()=>{ el.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) translateY(-3px)`; });
    };
    const reset = ()=>{ el.style.transform = ''; };
    el.addEventListener('pointermove', onMove);
    el.addEventListener('pointerleave', reset);
  });

  // Copy email nicety
  const copyBtn = document.getElementById('copyEmail');
  if (copyBtn) copyBtn.addEventListener('click', async () => {
    try{
      await navigator.clipboard.writeText('singh.parthiitd@gmail.com');
      const old = copyBtn.textContent; copyBtn.textContent = 'Copied ✓'; setTimeout(()=>copyBtn.textContent = old, 1200);
    }catch(e){}
  });

  // Set connector path length for the moving highlight to be a single segment
  const path = document.getElementById('flowPath');
  const hl = document.getElementById('flowHighlight');
  if (path && hl){
    const len = path.getTotalLength();
    hl.style.setProperty('--pathL', len.toFixed(2));
  }
</script>
</body>
</html>
